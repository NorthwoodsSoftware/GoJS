<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>
 
<link rel="stylesheet" href="../assets/css/style.css"/> 
<!-- Copyright 1998-2021 by Northwoods Software Corporation. -->    <title> GoJS Geometry Path Strings -- Northwoods Software </title>
    <link rel="stylesheet" href="../assets/css/prism.css"  />
  </head>
  <script>
    
    window.diagrams = [];
    window.goCode = function(pre, w, h, parentid, animation) {
      window.diagrams.push([pre, w, h, parentid, animation]);
    }
  </script>
  <body>
  <nav id="navTop" class="w-full z-30 top-0 text-white bg-nwoods-primary">
    <div class="w-full container max-w-screen-lg mx-auto flex flex-wrap sm:flex-nowrap items-center justify-between mt-0 py-2">
      <div class="md:pl-4">
        <a class="text-white hover:text-white no-underline hover:no-underline
        font-bold text-2xl lg:text-4xl rounded-lg hover:bg-nwoods-secondary " href="../">
          <h1 class="mb-0 p-1 ">GoJS</h1>
        </a>
      </div>
      <button id="topnavButton" class="rounded-lg sm:hidden focus:outline-none focus:ring" aria-label="Navigation">
        <svg fill="currentColor" viewBox="0 0 20 20" class="w-6 h-6">
          <path id="topnavOpen" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"></path>
          <path id="topnavClosed" class="hidden" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
        </svg>
      </button>
      <div id="topnavList" class="hidden sm:block items-center w-auto mt-0 text-white p-0 z-20">
        <ul class="list-reset list-none font-semibold flex justify-end flex-wrap sm:flex-nowrap items-center px-0 pb-0">
          <li class="p-1 sm:p-0"><a class="topnav-link" href="../learn/">Learn</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="../samples/">Samples</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="../intro/">Intro</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="../api/">API</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="https://www.nwoods.com/products/register.html">Register</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="../download.html">Download</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="https://forum.nwoods.com/c/gojs/11">Forum</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="https://www.nwoods.com/contact.html"
           target="_blank" rel="noopener" onclick="getOutboundLink('https://www.nwoods.com/contact.html', 'contact');">Contact</a></li>
          <li class="p-1 sm:p-0"><a class="topnav-link" href="https://www.nwoods.com/sales/index.html"
           target="_blank" rel="noopener" onclick="getOutboundLink('https://www.nwoods.com/sales/index.html', 'buy');">Buy</a></li>
        </ul>
      </div>
    </div>
    <hr class="border-b border-gray-600 opacity-50 my-0 py-0" />
  </nav>
    
    <div class="md:flex flex-col md:flex-row md:min-h-screen w-full max-w-screen-xl mx-auto">
      
    <div id="navSide" class="flex flex-col w-full md:w-40 lg:w-48 text-gray-700 bg-white flex-shrink-0">
      <div class="flex-shrink-0 px-8 py-4">
        <button id="navButton" class="rounded-lg md:hidden focus:outline-none focus:ring" aria-label="Navigation">
          <svg fill="currentColor" viewBox="0 0 20 20" class="w-6 h-6">
            <path id="navOpen" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"></path>
            <path id="navClosed" class="hidden" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
      <nav id="navList" class="min-h-screen hidden md:block sidebar-nav flex-grow px-1 lg:px-4 pb-4 md:pb-0 md:overflow-y-auto break-words">
  <a href="index.html">Basics</a>
  <a href="buildingObjects.html">Building Parts</a>
  <a href="usingModels.html">Using Models</a>
  <a href="dataBinding.html">Data Binding</a>
  <a href="react.html">GoJS with React</a>
  <a href="angular.html">GoJS with Angular</a>
  <a href="textBlocks.html">TextBlocks</a>
  <a href="shapes.html">Shapes</a>
  <a href="pictures.html">Pictures</a>
  <a href="panels.html">Panels</a>
  <a href="tablePanels.html">Table Panels</a>
  <a href="brush.html">Brushes</a>
  <a href="sizing.html">Sizing Objects</a>
  <a href="itemArrays.html">Item Arrays</a>
  <a href="changedEvents.html">Changed Events</a>
  <a href="transactions.html">Transactions</a>
  <a href="viewport.html">Coordinates</a>
  <a href="initialView.html">Initial View</a>
  <a href="collections.html">Collections</a>
  <a href="links.html">Links</a>
  <a href="linkLabels.html">Link Labels</a>
  <a href="connectionPoints.html">Link Points</a>
  <a href="ports.html">Ports</a>
  <a href="nodes.html">Nodes</a>
  <a href="debugging.html">Debugging</a>
  <a href="layouts.html">Layouts</a>
  <a href="trees.html">Trees</a>
  <a href="subtrees.html">SubTrees</a>
  <a href="groups.html">Groups</a>
  <a href="subgraphs.html">SubGraphs</a>
  <a href="sizedGroups.html">Sized Groups</a>
  <a href="selection.html">Selection</a>
  <a href="highlighting.html">Highlighting</a>
  <a href="animation.html">Animation</a>
  <a href="toolTips.html">ToolTips</a>
  <a href="contextmenus.html">Context Menus</a>
  <a href="events.html">Diagram Events</a>
  <a href="tools.html">Tools</a>
  <a href="commands.html">Commands</a>
  <a href="permissions.html">Permissions</a>
  <a href="validation.html">Validation</a>
  <a href="HTMLInteraction.html">HTML Interaction</a>
  <a href="layers.html">Layers &amp; Z-ordering</a>
  <a href="palette.html">Palette</a>
  <a href="overview.html">Overview</a>
  <a href="resizing.html">Resizing Diagrams</a>
  <a href="replacingDeleting.html">Replacing and Deleting</a>
  <a href="buttons.html">Buttons</a>
  <a href="templateMaps.html">Template Maps</a>
  <a href="legends.html">Legends and Titles</a>
  <a href="extensions.html">Extensions</a>
  <a href="geometry.html">Geometry Strings</a>
  <a href="grids.html">Grid Patterns</a>
  <a href="graduatedPanels.html">Graduated Panels</a>
  <a href="makingImages.html">Diagram Images</a>
  <a href="makingSVG.html">Diagram SVG</a>
  <a href="printing.html">Printing</a>
  <a href="serverSideImages.html">Server-side Images</a>
  <a href="nodeScript.html">GoJS in Node.js</a>
  <a href="testing.html">Testing</a>
  <a href="storage.html">Storage</a>
  <a href="performance.html">Performance</a>
  <a href="source.html">Building from Source</a>
  <a href="platforms.html">Platforms</a>
  <a href="deployment.html">Deployment</a>
      </nav>
    </div>      
      <div class="pt-4 px-2 md:px-0 lg:px-4 pb-16 w-full overflow-hidden">




<h1>Geometry Path Strings</h1>
<p>
The <b>GoJS</b> <a>Geometry</a> class controls the "shape" of a <a>Shape</a>,
whereas the <a>Shape.fill</a> and <a>Shape.stroke</a> and other shape properties control the colors and appearance of the shape.
For common shape figures, there are predefined geometries that can be used by setting <a>Shape.figure</a>.
However one can also define custom geometries.
</p>
<p>
One can construct any Geometry by allocating and initializing a <a>Geometry</a> of at least one <a>PathFigure</a> holding some <a>PathSegment</a>s.
But you may find that using the string representation of a Geometry is easier to write and save in a database.
Use the static method <a>Geometry,parse</a> or the <a>Shape.geometryString</a> property to transform a geometry path string into a <a>Geometry</a> object.
</p>
<p>
See samples that make use of Geometries in the <a href="../samples/index.html#geometries">samples index</a>.
</p>

<h2 id="GeometryPathStringSyntax">Geometry Path String Syntax</h2>
<p>
The syntax for a geometry path string is an extension of the SVG path string syntax.
The string consists of a number of commands, each a single letter followed by some command-specific numeric parameters.
</p>
<p>
Below are the possible commands along with the parameters they take.
The parameter notation <code>(x y)+</code> means that the command requires exactly two parameters,
but there can be 1 or more sets of parameters for each command.
For instance, the <code>L (x y)+</code> command can be written as <code>L 10 10 20 20</code> to denote two straight line segments.
</p>
<p>
Commands written with an uppercase letter indicate absolute coordinates;
lowercase commands specify coordinates relative to the last command.
Some commands do not care about case because they do not take coordinates as arguments.
</p>

<ul style="padding-left: 0px; list-style: none;">
<li><pre class="lang-js"><code>M (x y)+</code></pre> Move commands begin a new subpath in a <a>PathFigure</a>.
One is essential to begin a PathFigure and therefore must be the first segment type in the path string,
with the exception of a Fill command (<code>F</code>) that can precede it.
<p>Additional sets of parameters for a move command are automatically considered Line commands,
so <code>M 10 10 20 20</code> is identical to <code>M 10 10 L 20 20</code>.</li>

<li><pre class="lang-js"><code>L (x y)+</code></pre> Line command adds a straight line segment from the previous point to the new point.</li>
<li><pre class="lang-js"><code>H (x)+</code></pre> Horizontal line command specifies only an x value for a straight horizontal line.</li>
<li><pre class="lang-js"><code>V (y)+</code></pre> Vertical line command specifies only a y value for a straight vertical line.</li>

<li><pre class="lang-js"><code>Q (x1 y1 x y)+</code></pre> Quadratic Bezier Curves.
<code>x1</code>, <code>y1</code> is the control point.
See <a href="https://www.w3.org/TR/SVG/paths.html#PathDataQuadraticBezierCommands">SVG Quadratic Bezier command</a> for more details.</li>
<li><pre class="lang-js"><code>T (x y)+</code></pre> Short-hand Quadratic Bezier Curves.
The control point is calculated based on <a href="https://www.w3.org/TR/SVG/paths.html#PathDataQuadraticBezierCommands">SVG's path rules.</a></li>

<li><pre class="lang-js"><code>C (x1 y1 x2 y2 x y)+</code></pre> Cubic Bezier Curves.
<code>x1</code>, <code>y1</code> and <code>x2</code>, <code>y2</code> are the control points.
See <a href="https://www.w3.org/TR/SVG/paths.html#PathDataCubicBezierCommands">SVG Cubic Bezier command</a> for more details.</li>
<li><pre class="lang-js"><code>S (x2 y2 x y)+</code></pre> Short-hand Cubic Bezier Curves.
The two control points are calculated based on <a href="https://www.w3.org/TR/SVG/paths.html#PathDataCubicBezierCommands">SVG's path rules.</a></li>

<li><pre class="lang-js"><code>A (rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</code></pre> Elliptical Arcs.
These follow the <a href="https://www.w3.org/TR/SVG/paths.html#PathDataEllipticalArcCommands">SVG arc conventions</a>.</li>

<li><pre class="lang-js"><code>Z</code></pre> <code>Z</code> denotes that the current segment is closed.
This is placed after the last segment of a subpath.
There are no parameters, and case does not matter with this command.</li>
</ul>
<hr />
<p>
For detailed information on the SVG path strings, see the <a href="https://www.w3.org/TR/SVG/paths.html">W3C's page on SVG Paths</a>.
<hr />

<p>
Additionally there are some tokens specific to <b>GoJS</b>:
<ul style="padding-left: 0px; list-style: none;">
<li><pre class="lang-js"><code>B (startAngle, sweepAngle, centerX, centerY, radiusX, radiusY) </code></pre> Arcs following <b>GoJS</b> canvas arc convention.
These arcs create a new line from the last point in the subpath to the first point of an arc defined by the five arguments.
Unlike all other commands with parameters, multiple sets of parameters are not allowed for B-arcs.

<li><pre class="lang-js"><code>X</code></pre> Used before <code>M</code> commands to denote separate PathFigures instead of a subpath.
There are no parameters, and case does not matter with this command.
Separate PathFigures are important when different fills are desired per figure component.</li>

<li><pre class="lang-js"><code>F</code></pre> The existence of this command specifies whether the current PathFigure is filled (true if <code>F</code> is present).
This is placed at the beginning of a figure.
There is an optional parameter that is currently ignored.
Case does not matter with this command.</li>

<li><pre class="lang-js"><code>U</code></pre> The existence of this command specifies whether the current PathFigure is shadowed (<strong>false</strong> if <code>U</code> is present.
A shadowed PathFigure is the default).
Shadows on shapes (and therefore PathFigures) only exist if <a>Part.isShadowed</a> is set to true on the containing part.
This is placed at the beginning of a figure.
Case does not matter with this command.</li>
</ul>

<h2 id="GeometryPathStringExamples">Geometry Path String Examples</h2>
<p>
Here is a simple usage of a geometry path string when initializing a <a>Shape</a> without setting <a>Shape.figure</a>:
</p>
<pre class="lang-js" id="s1"><code>
diagram.add(
  $(go.Node,
    $(go.Shape,
      { geometryString: "F M120 0 L80 80 0 50z",
        fill: "lightgreen" })));
</code></pre>
<script>  goCode("s1", 600, 140)</script>
<p>
Here is a geometry path string that uses quadratic Bezier curves:
</p>
<pre class="lang-js" id="s2"><code>
diagram.add(
  $(go.Node,
    $(go.Shape,
      { geometryString: "F M0 0 L100 0 Q150 50 100 100 L0 100 Q50 50 0 0z",
        fill: "lightgreen" })));
</code></pre>
<script>  goCode("s2", 600, 140)</script>
<p>
This geometry uses <b>GoJS</b> arcs:
</p>
<pre class="lang-js" id="s3"><code>
diagram.add(
  $(go.Node, "Spot",
    $(go.Shape,
      { geometryString: "F M0 0 L80 0 B-90 90 80 20 20 20 L100 100 20 100 B90 90 20 80 20 20z",
        fill: "lightgreen" }),
    $(go.TextBlock, "custom shape")
  ));
</code></pre>
<script>  goCode("s3", 600, 140)</script>
<p>
  The following geometry uses <b>GoJS</b> arcs.  Because the <a>Shape</a> is stretched to fit around the <a>TextBlock</a>,
  and because the default value of <a>Shape.geometryStretch</a> causes the <a>Geometry</a> to be stretched too,
  the custom geometry is also stretched to fit around the text.
</p>
<pre class="lang-js" id="s4"><code>
diagram.add(
  $(go.Node, "Auto",
    $(go.Shape,
      { geometryString: "F M0 0 L.8 0 B-90 90 .8 .2 .2 .2 L1 1 .2 1 B90 90 .2 .8 .2 .2z",
        fill: "lightgreen" }),
    $(go.TextBlock, "custom shape",
      { margin: 4 })
  ));
</code></pre>
<script>goCode("s4", 600, 140)</script>
<p>
In the following Diagram we use a path string that contains three PathFigures.
Note the <code>X</code> commands separating the figures and the <code>F</code> commands denoting fill.
</p>
<pre class="lang-js" id="a"><code>
diagram.add(
  $(go.Part,
    $(go.Shape,
      { geometryString:
          "F M 0 0 l 30,30 10,10 35,0 0,-35 x m 50 0 l 0,-50 10,0 35,35 x" +
          "f m 50 0 l 0,-50 10,0 35,35z",
        strokeWidth: 10, stroke: "lightblue", fill: "gray" })
  ));
</code></pre>
<script>goCode("a", 600, 140)</script>
The first two PathFigures are open; the first and third figures are filled.
The <code>Z</code> command only closes the PathFigure that it ends.

<p>
In the following Diagram we use a path string that contains four PathFigures, two of which have a shadow.
Note that figures are shadowed by default if the containing Part has <a>Part.isShadowed</a> set to true.
To un-shadow specific path figures we use the <code>U</code> command.
</p>
<pre class="lang-js" id="a2"><code>
diagram.add(
  $(go.Part,
    { isShadowed: true, shadowOffset: new go.Point(10, 10) },
    $(go.Shape,
      { geometryString:
          "F M 0 0 l 30,30 10,10 35,0 0,-35 x u m 50 0 l 0,-50 10,0 35,35 x" +
          "u f m 50 0 l 0,-50 10,0 35,35z x m 70 0 l 0,30 30,0 5,-35z",
        strokeWidth: 8, stroke: "lightblue", fill: "lightcoral" })
  ));
</code></pre>
<script>goCode("a2", 600, 140)</script>
The first and last PathFigures are shadowed; the second and third are unshadowed.

<h3 id="GeometryParse">Geometry.parse</h3>
<p>
Use the static method <a>Geometry,parse</a> to convert a <b>GoJS</b> syntax path string into a <a>Geometry</a>.
</p>
<pre class="lang-js" id="s11"><code>
diagram.add(
  $(go.Node, "Horizontal",
    $(go.TextBlock, "Custom Triangle:"),
    $(go.Shape,
      { geometry: go.Geometry.parse("M120 0 L80 80 0 50z"), // Geometry is not filled
        fill: "green", background: "whitesmoke",
        stroke: "orange", strokeWidth: 2 })
  ));
</code></pre>
<script>goCode("s11", 600, 140)</script>
<p>
Note that even though a <a>Shape.fill</a> is specified, the shape does not appear filled.
This is because the geometry's one <a>PathFigure</a> is not declared to be filled -- there is no <code>F</code> command.
Importing SVG path strings that are filled also requires declaring that the geometry is filled.
There are several ways to do that:
</p>
<ul>
  <li>
    Call <a>Geometry,fillPath</a> for converting the SVG path string to <b>GoJS</b> syntax before calling <a>Geometry,parse</a>.
    For literal SVG path strings it is often easiest just to prefix it with "F ".
  </li>
  <li>Call <a>Geometry,parse</a> with a second argument that is true.</li>
  <li>Modify the <a>Geometry</a> returned by <a>Geometry,parse</a>, by setting <a>PathFigure.isFilled</a> to true on the desired PathFigures.</li>
</ul>
<p>
Here is the same example, but using a filled geometry path string.
</p>
<pre class="lang-js" id="s11a"><code>
diagram.add(
  $(go.Node, "Horizontal",
    $(go.TextBlock, "Custom Triangle:"),
    $(go.Shape,
      { geometry: go.Geometry.parse("F M120 0 L80 80 0 50z"), // Geometry is filled
        fill: "green", background: "whitesmoke",
        stroke: "orange", strokeWidth: 2 })
  ));
</code></pre>
<script>goCode("s11a", 600, 140)</script>

<p>
All Geometry objects have bounds that contain the origin,
so a geometry created with no points at x==0 or y==0 will have extra space to the left of it or above it.
Note how there is extra space in the following node, causing the shape to appear farther away from the text and shifted down:
</p>
<pre class="lang-js" id="s12"><code>
diagram.add(
  $(go.Node, "Horizontal",
    $(go.TextBlock, "Custom Triangle:"),
    $(go.Shape,
      { geometry: go.Geometry.parse("M120 50 L80 80 50 50z", true), // Geometry is filled
        fill: "green", background: "whitesmoke",
        stroke: "orange", strokeWidth: 2 })
  ));
</code></pre>
<script>goCode("s12", 600, 140)</script>
<p>
Often when importing SVG shapes created by drawing applications into <b>GoJS</b> we do not want any extra space above or to the left, so we need to normalize the geometry.
There is a function for this, <a>Geometry.normalize</a>, which modifies the Geometry's points in-place and returns a Point describing the amount they were offset.
</p>
<pre class="lang-js" id="s12a"><code>
var geo = go.Geometry.parse("M120 50 L80 80 50 50z", true);
geo.normalize();

diagram.add(
  $(go.Node, "Horizontal",
    $(go.TextBlock, "Custom Triangle:"),
    $(go.Shape,
      { geometry: geo,  // normalized above
        fill: "green", background: "whitesmoke",
        stroke: "orange", strokeWidth: 2 })
  ));
</code></pre>
<script>goCode("s12a", 600, 140)</script>

<h3 id="ShapeGeometryString">Shape.geometryString</h3>
<p>
The <a>Shape.geometryString</a> property setter parses a given <b>GoJS</b> path string as a Geometry, normalizes it,
sets the <a>Shape.geometry</a> to this new Geometry, and offsets the Shape's position by the amount it was shifted in normalization.
The positioning is useful when the shape is inside a <a>Panel,Position</a> panel.
But when the shape is used in any other kind of panel (thus ignoring the <a>GraphObject.position</a>),
it is still useful to remove the extra space so that the shape fits in well with the other objects in the panel.
</p>
<p>
The example below adds three Parts with Shapes to the diagram.
The first shape uses <a>Geometry,parse</a> to set the Shape's Geometry, the second one uses <a>Geometry,parse</a> and <a>Geometry.normalize</a>.
The third uses <a>Shape.geometryString</a>.
Note the difference in size between the first Part and the other two.
</p>
<pre class="lang-js" id="b"><code>
var pathstring = "M30 100 C 50 50, 70 20, 100 100, 110, 130, 45, 150, 65, 100";

// Just parsing the geometry
diagram.add(
  $(go.Part, "Vertical",
    $(go.Shape,
      { geometry: go.Geometry.parse(pathstring),
        strokeWidth: 10, stroke: "lightcoral",
        background: "whitesmoke" }),
    $(go.TextBlock, "parse")
  ));

// Parsing the geometry and normalizing it
var geo = go.Geometry.parse(pathstring);
geo.normalize();
diagram.add(
  $(go.Part, "Vertical",
    $(go.Shape,
      { geometry: geo,
        strokeWidth: 10, stroke: "lightgreen",
        background: "whitesmoke" }),
    $(go.TextBlock, "parse/normalize")
  ));

// Using geometryString to parse and normalize the geometry
diagram.add(
  $(go.Part, "Vertical",
    $(go.Shape,
      { geometryString: pathstring,
        strokeWidth: 10, stroke: "lightblue",
        background: "whitesmoke" }),
    $(go.TextBlock, "geometryString")
  ));

diagram.layout = $(go.GridLayout);

// Select them all to more easily see their sizes
diagram.commandHandler.selectAll();
</code></pre>
<script>goCode("b", 600, 180)</script>


<h2 id="FlippingGeometriesHorizontallyAndVertically">Flipping Geometries Horizontally and Vertically</h2>
<p>
  GoJS Geometries have several methods for modifying the geometry's points by a transformation matrix.
  We can use these methods to flip or mirror the geometries if needed.
</p>
<p>
  <code>geometry.scale(-1, 1)</code> will flip a geometry horizontally.
  <code>geometry.scale(1, -1)</code> will flip a geometry vertically.
</p>

<pre class="lang-js" id="b2"><code>
var pathstring = "M30 100 C 50 50, 70 20, 100 100, 110, 130, 45, 150, 65, 100";
var geo = go.Geometry.parse(pathstring);
geo.normalize();

diagram.add(
$(go.Part, "Vertical",
  $(go.Shape,
    { geometry: geo,
      strokeWidth: 10, stroke: "lightgreen",
      background: "whitesmoke" }),
  $(go.TextBlock, "geometry from string\n(normalized)")
));

var geo2 = geo.copy();
geo2.scale(-1, 1); // flips a geometry horizontally
diagram.add(
$(go.Part, "Vertical",
  $(go.Shape,
    { geometry: geo2,
      strokeWidth: 10, stroke: "lightgreen",
      background: "whitesmoke" }),
  $(go.TextBlock, "flipped horizontally")
));

var geo3 = geo.copy();
geo3.scale(1, -1); // flips a geometry vertically
diagram.add(
$(go.Part, "Vertical",
  $(go.Shape,
    { geometry: geo3,
      strokeWidth: 10, stroke: "lightgreen",
      background: "whitesmoke" }),
  $(go.TextBlock, "flipped vertically")
));

diagram.layout = $(go.GridLayout);
</code></pre>
<script>goCode("b2", 600, 180)</script>

<h2 id="ConvertingPathStrings">Converting Path Strings</h2>
<p>
The static method <a>Geometry,stringify</a> can be used to output a Geometry as a string.
This string will have the <b>GoJS</b> path string syntax.
You can use Geometry.stringify and Geometry.parse to data bind custom shape geometries.
<p>
<code>Geometry.parse(Geometry.stringify(myGeometry))</code> will return a geometry equal to <code>myGeometry</code>,
though if myGeometry was created from a string, the string itself is not guaranteed to be the same.
If you merely want to copy a Geometry you should use <a>Geometry.copy</a>.
<p>
<pre class="lang-js"><code>
// These path strings represent identical geometries:
var a = "m0 0 t 50 50, q 40 20, 50 10 h 10 v -23 l 45, 5, 65, 100"
var b = "M0 0 Q0 0 50 50 Q90 70 100 60 L110 60 L110 37 L155 42 L220 142"
go.Geometry.stringify(Geometry.parse(a)); // returns the string in b
go.Geometry.stringify(Geometry.parse(b)); // returns the string in b
</code></pre>

<p>
Because of the additional non-SVG commands, a string generated from <a>Geometry,stringify</a> will not necessarily be a valid SVG path.
</p>
<p>
The static method <a>Geometry,fillPath</a> takes a path string of either syntax and adds <code>F</code> tokens before each PathFigure that does not have them.
Because SVG path strings are not considered to be "filled" by themselves,
if you are converting an SVG Path shape to <b>GoJS</b> you will want to call <a>Geometry,fillPath</a> on the SVG string.
</p>
<pre class="lang-js"><code>
go.Geometry.fillPath("M0 0 L20 20 L20 0");
// returns           "F M0 0 L20 20 L20 0"
</code></pre>
The result can then be passed to <a>Geometry,parse</a> or <a>Shape.geometryString</a>.

<h2 id="ParameterizedGeometries">Parameterized Geometries</h2>
<p>
  Although individual <a>Geometry</a> objects cannot be dynamically parameterized based on the intended size or other properties,
  the <a>Shape</a> class does support such parameterization via <a>Shape,defineFigureGenerator</a>.
  When you set or bind the <a>Shape.figure</a> property, the shape will call the named figure generator
  to generate a Geometry appropriate for the desired width and height and other Shape properties.
</p>
<p>
  You can see the definitions of all of the predefined figures in the extensions file:
  <a href="../extensions/Figures.js" target="_blank">Figures.js</a>.
</p>
      </div>
    </div>
  
  <div class="bg-nwoods-primary">
    <section class="max-w-screen-lg text-white container mx-auto py-2 px-12">
      <p id="version" class="leading-none mb-2 my-4">GoJS</p>
    </section>
  </div><footer class="bg-white">
  <div class="container max-w-screen-lg mx-auto  px-8">
    <div class="w-full flex flex-col md:flex-row py-6">
      <div class="flex-1">

        <div class="max-w-screen-lg xl:max-w-screen-xl mx-auto divide-y divide-gray-200 px-4 sm:px-6 md:px-8">
          <ul class="text-sm font-medium pb-14 sm:pb-20 grid grid-cols-1 sm:grid-cols-3 gap-y-10">
            <li class="list-none row-span-2">
              <h2 class="text-base font-semibold tracking-wide">GoJS</h2>
              <ul class="list-none space-y-4 md:space-y-1 px-0">
                <li>
                  <a href="../samples/index.html">Samples</a>
                </li>
                <li>
                  <a href="../learn/index.html">Learn</a>
                </li>
                <li>
                  <a href="../intro/index.html">Intro</a>
                </li>
                <li>
                  <a href="../api/index.html">API</a>
                </li>
                <li>
                  <a href="../changelog.html">Changelog</a>
                </li>
                <li>
                  <a href="https://github.com/NorthwoodsSoftware/GoJS">GitHub</a>
                </li>
              </ul>
            </li>
            <li class="list-none row-span-2">
              <h2 class="text-base font-semibold tracking-wide">Support</h2>
              <ul class="list-none space-y-4 md:space-y-1 px-0">
                <li>
                  <a href="https://www.nwoods.com/contact.html"
                  target="_blank" rel="noopener" onclick="getOutboundLink('https://www.nwoods.com/contact.html', 'contact');">Contact</a>
                </li>
                <li>
                  <a href="https://forum.nwoods.com/c/gojs">Forum</a>
                </li>
                <li>
                  <a href="https://www.nwoods.com/app/activate.aspx?sku=gojs">Activate</a>
                </li>
                <li>
                  <a href="https://www.nwoods.com/sales/index.html"
                  target="_blank" rel="noopener" onclick="getOutboundLink('https://www.nwoods.com/sales/index.html', 'buy');">Buy</a>
                </li>
                <li>
                  <a href="https://www.youtube.com/channel/UC9We8EoX596-6XFjJDtZIDg">Videos</a>
                </li>
              </ul>
            </li>
            <li class="list-none row-span-2">
              <h2 class="text-base font-semibold tracking-wide">Company</h2>
              <ul class="list-none space-y-4 md:space-y-1 px-0">
                <li>
                  <a href="https://www.nwoods.com">Northwoods</a>
                </li>
                <li>
                  <a href="https://www.nwoods.com/about.html">About Us</a>
                </li>
                <li>
                  <a href="https://www.nwoods.com/contact.html">Contact Us</a>
                </li>
                <li>
                  <a href="https://twitter.com/northwoodsgo">Twitter</a>
                </li>

              </ul>
            </li>
          </ul>

      </div>

      <p class="text-sm text-gray-500 md:mb-6">
        Copyright 1998-2021 <a href="https://www.nwoods.com">Northwoods Software</a>
      </p>
    </div>
  </div>
</footer>  </body>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1506307-5"></script> 
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); gtag('config', 'UA-1506307-5');
  var getOutboundLink = function(url, label) {
    gtag('event', 'click', {
      'event_category': 'outbound',
      'event_label': label,
      'transport_type': 'beacon'
    });
  }

  // topnav
  var topButton = document.getElementById("topnavButton");
  var topnavList = document.getElementById("topnavList");
  topButton.addEventListener("click", function() {
    this.classList.toggle("active");
    topnavList.classList.toggle("hidden");
    document.getElementById("topnavOpen").classList.toggle("hidden");
    document.getElementById("topnavClosed").classList.toggle("hidden");
  });
</script>
  <script src="../assets/js/prism.js"></script>
  <script src="../release/go.js"></script>
  <script src="../assets/js/goDoc.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      if (window.go) document.getElementById('version').textContent = "GoJS version " + go.version;
      if (window.goDoc) window.goDoc();
      var d = window.diagrams;
      for (var i = 0; i < d.length; i++) {
        var dargs = d[i];
        goCodeExecute(dargs[0], dargs[1], dargs[2], dargs[3], dargs[4]);
      }
      if (window.extra) window.extra();
    });
  </script>
</html>
